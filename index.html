<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTrace | Responsive Digital Product Passport</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc;
        }

        /* Custom Scrollbar for Desktop Side Panel */
        @media (min-width: 1024px) {
            .custom-scroll::-webkit-scrollbar { width: 5px; }
            .custom-scroll::-webkit-scrollbar-track { background: #f1f1f1; }
            .custom-scroll::-webkit-scrollbar-thumb { background: #fbbf24; border-radius: 10px; }
        }

        .timeline-line {
            position: absolute;
            left: 1.25rem;
            top: 2rem;
            bottom: 0;
            width: 2px;
            background-color: #fef3c7; /* yellow-100 */
            z-index: 0;
        }

        .step-card { transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .step-card:hover { transform: translateX(4px); }
    </style>
</head>
<body class="antialiased text-slate-900">

    <!-- Wrapper for Responsive Layout -->
    <!-- Mobile: Normal Flow | Desktop: Side-by-Side Split -->
    <div class="flex flex-col lg:flex-row min-h-screen max-w-[1600px] mx-auto bg-white shadow-2xl">
        
        <!-- LEFT PANEL: Identity & Impact Dashboard -->
        <!-- Fixed on top for Mobile | Fixed on side for Desktop -->
        <aside class="w-full lg:w-1/3 lg:h-screen lg:sticky lg:top-0 bg-white border-b lg:border-b-0 lg:border-r border-slate-100 z-20 overflow-y-auto">
            
            <!-- Hero Header -->
            <div class="relative bg-gradient-to-br from-yellow-500 to-amber-600 p-8 pt-10 text-white lg:min-h-[300px] flex flex-col justify-between">
                <div>
                    <div class="flex justify-between items-start mb-6">
                        <span class="text-[10px] font-bold tracking-widest uppercase opacity-80">Phase 3 Empirical</span>
                        <div class="bg-white/20 backdrop-blur-md px-3 py-1 rounded-full text-[10px] font-bold uppercase">
                            <i class="fas fa-check-circle mr-1"></i> Verifiable
                        </div>
                    </div>
                    <div class="flex items-center gap-5">
                        <div class="w-20 h-20 bg-white/10 border border-white/20 rounded-2xl flex items-center justify-center text-4xl shadow-inner">
                            <i class="fas fa-shirt"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold leading-tight">White Cotton Tee</h1>
                            <p class="text-yellow-100 text-xs mt-1">Ref: Ali et al. (2018) Case Study</p>
                        </div>
                    </div>
                </div>
                
                <!-- Fixed Score Badge (Positioning varies slightly for visual balance) -->
                <div class="mt-8 lg:mt-0 lg:absolute lg:-bottom-6 lg:right-8 bg-white text-slate-800 w-24 h-24 rounded-2xl flex flex-col items-center justify-center shadow-2xl border-b-4 border-yellow-500 z-30">
                    <span class="text-[10px] font-bold text-slate-400 uppercase">Eco Score</span>
                    <div class="flex items-baseline">
                        <span class="text-4xl font-black text-yellow-600">A</span>
                    </div>
                    <span class="text-[9px] font-bold text-yellow-600 bg-yellow-50 px-2 py-0.5 rounded-full mt-1 tracking-tighter">Empirical Data</span>
                </div>
            </div>

            <!-- Impact Metrics Section -->
            <div class="p-8 pt-12 space-y-6">
                <h3 class="text-sm font-bold uppercase tracking-widest text-slate-400">Environmental Benchmarks</h3>
                
                <!-- Water Card -->
                <div class="bg-blue-50/50 border border-blue-100 p-5 rounded-2xl">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-xs font-bold text-blue-700 uppercase">Water Usage</span>
                        <i class="fas fa-droplet text-blue-400"></i>
                    </div>
                    <div class="text-3xl font-bold text-blue-900">1,770 L</div>
                    <p class="text-[11px] text-blue-600 mt-2 leading-relaxed">92% of footprint occurs during the <strong>Cultivation</strong> phase.</p>
                </div>

                <!-- Carbon Card -->
                <div class="bg-orange-50/50 border border-orange-100 p-5 rounded-2xl">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-xs font-bold text-orange-700 uppercase">Carbon (CO2e)</span>
                        <i class="fas fa-cloud text-orange-400"></i>
                    </div>
                    <div class="text-3xl font-bold text-orange-900">6.05 - 8.46 kg</div>
                    <p class="text-[11px] text-orange-600 mt-2 leading-relaxed">Hotspot: <strong>Dyeing process</strong> contributes 1.24 kg CO2e.</p>
                </div>

                <!-- Technical Hash (Blockchain Reference) -->
                <div class="bg-slate-50 border border-slate-100 p-4 rounded-xl">
                    <div class="text-[9px] font-bold text-slate-400 uppercase mb-2">Blockchain ID</div>
                    <div class="text-[11px] font-mono text-slate-500 break-all bg-white p-2 rounded border border-slate-200">
                        BD-EU-ESPR-0x846AF32_LCA_ALI_2018
                    </div>
                </div>
            </div>
        </aside>

        <!-- RIGHT PANEL: Production Journey & Technical Details -->
        <!-- Content scrolls alongside fixed panel on Desktop -->
        <main class="w-full lg:w-2/3 p-8 lg:p-16 custom-scroll">
            
            <header class="mb-12">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">Production Journey</h2>
                <p class="text-slate-500 text-sm max-w-xl">This traceability log tracks every stage of the T-shirt's lifecycle, verified against empirical industrial benchmarks and international certifications.</p>
            </header>

            <!-- Timeline Grid (Adjusts based on screen) -->
            <div class="relative space-y-10 pl-2">
                <div class="timeline-line"></div>

                <!-- Stage 1: Cultivation -->
                <div class="relative flex gap-6 step-card cursor-pointer group" onclick="toggle('s1')">
                    <div class="flex-shrink-0 w-12 h-12 rounded-full bg-yellow-100 border-4 border-white shadow-md flex items-center justify-center z-10 text-yellow-600 text-lg">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <div class="flex-grow pt-1 pb-6 border-b border-slate-100">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold text-lg">Cotton Cultivation</h4>
                            <span class="text-[10px] font-bold bg-green-100 text-green-700 px-2 py-1 rounded">GOTS Certified</span>
                        </div>
                        <p class="text-xs text-slate-500 mt-1">Location: Bangladesh Farming Hubs</p>
                        <div id="s1" class="hidden mt-4 bg-slate-50 p-4 rounded-2xl text-xs space-y-2 text-slate-600 animate-in slide-in-from-top-2">
                            <p><strong>Input:</strong> Verification of GOTS certificate #129384.</p>
                            <p><strong>Impact:</strong> 1,770L water usage verified for this batch.</p>
                        </div>
                    </div>
                </div>

                <!-- Stage 3: Spinning -->
                <div class="relative flex gap-6 step-card cursor-pointer group" onclick="toggle('s3')">
                    <div class="flex-shrink-0 w-12 h-12 rounded-full bg-slate-100 border-4 border-white shadow-md flex items-center justify-center z-10 text-slate-600 text-lg">
                        <i class="fas fa-compact-disc"></i>
                    </div>
                    <div class="flex-grow pt-1 pb-6 border-b border-slate-100">
                        <h4 class="font-bold text-lg">Spinning (Yarn Making)</h4>
                        <p class="text-xs text-slate-500 mt-1">Energy Intensity: 0.64 kg CO2e</p>
                        <div id="s3" class="hidden mt-4 bg-slate-50 p-4 rounded-2xl text-xs text-slate-600">
                            Process: Ring spinning (30s Ne Yarn). National grid coal-mix energy data applied to calculate emissions.
                        </div>
                    </div>
                </div>

                <!-- Stage 5: Dyeing (HOTSPOT) -->
                <div class="relative flex gap-6 step-card cursor-pointer group" onclick="toggle('s5')">
                    <div class="flex-shrink-0 w-12 h-12 rounded-full bg-blue-100 border-4 border-white shadow-md flex items-center justify-center z-10 text-blue-600 text-lg">
                        <i class="fas fa-flask"></i>
                    </div>
                    <div class="flex-grow pt-1 pb-6 border-b border-slate-100">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold text-lg text-blue-700">Dyeing & Wet Processing</h4>
                            <span class="text-[10px] font-bold bg-orange-100 text-orange-700 px-2 py-1 rounded">Hotspot</span>
                        </div>
                        <p class="text-xs text-blue-600 font-semibold mt-1">Impact: 1.24 kg CO2e Emissions</p>
                        <div id="s5" class="hidden mt-4 bg-blue-50 p-4 rounded-2xl text-xs space-y-2 text-blue-800">
                            <p><strong>Input:</strong> Chemical inventory checked against EU REACH restricted list.</p>
                            <p><strong>Environment:</strong> Effluent treatment plant (ETP) with Zero Liquid Discharge (ZLD).</p>
                        </div>
                    </div>
                </div>

                <!-- Stage 6: Manufacturing -->
                <div class="relative flex gap-6 step-card cursor-pointer group" onclick="toggle('s6')">
                    <div class="flex-shrink-0 w-12 h-12 rounded-full bg-orange-100 border-4 border-white shadow-md flex items-center justify-center z-10 text-orange-600 text-lg">
                        <i class="fas fa-industry"></i>
                    </div>
                    <div class="flex-grow pt-1 pb-6 border-b border-slate-100">
                        <div class="flex justify-between items-center">
                            <h4 class="font-bold text-lg">Cut & Sew Manufacturing</h4>
                            <span class="text-[10px] font-bold bg-blue-100 text-blue-700 px-2 py-1 rounded">SA8000 Passed</span>
                        </div>
                        <p class="text-xs text-slate-500 mt-1">Location: Tier-1 Facility, Dhaka</p>
                        <div id="s6" class="hidden mt-4 bg-slate-50 p-4 rounded-2xl text-xs text-slate-600">
                            Audit of worker conditions, safety, and fair wages. Immutable PDF of social audit report logged on the blockchain trust layer.
                        </div>
                    </div>
                </div>

                <!-- Stage 8: Circularity -->
                <div class="relative flex gap-6 step-card cursor-pointer group" onclick="toggle('s8')">
                    <div class="flex-shrink-0 w-12 h-12 rounded-full bg-teal-100 border-4 border-white shadow-md flex items-center justify-center z-10 text-teal-600 text-lg">
                        <i class="fas fa-recycle"></i>
                    </div>
                    <div class="flex-grow pt-1">
                        <h4 class="font-bold text-lg text-teal-700">Recycling Passport</h4>
                        <p class="text-xs text-teal-600 font-bold mt-1">Class A: Mono-Material</p>
                        <div id="s8" class="hidden mt-4 bg-slate-900 p-5 rounded-2xl text-xs text-white space-y-3">
                            <div class="flex justify-between items-center pb-2 border-b border-slate-700">
                                <span class="opacity-70">Composition</span>
                                <span class="font-bold">100% White Cotton</span>
                            </div>
                            <p class="text-slate-400">Optimized for mechanical recycling. Contains zero synthetic contaminants (no elastane blends).</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Desktop Details (Grid cards) -->
            <section class="mt-20 grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-slate-50 p-6 rounded-3xl">
                    <h5 class="text-xs font-bold uppercase tracking-widest text-slate-400 mb-4">Regulatory Compliance</h5>
                    <p class="text-xs text-slate-600 leading-relaxed italic">This DPP fulfills the requirements of the EU Ecodesign for Sustainable Products Regulation (ESPR), providing standardized data for market surveillance.</p>
                </div>
                <div class="bg-slate-50 p-6 rounded-3xl">
                    <h5 class="text-xs font-bold uppercase tracking-widest text-slate-400 mb-4">Stakeholder Access</h5>
                    <ul class="text-xs text-slate-600 space-y-2">
                        <li>• Consumers: Verified Impact</li>
                        <li>• Regulators: Chemical Audit</li>
                        <li>• Recyclers: Fiber Content</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <!-- Floating QR Button -->
    <button onclick="toggleModal()" class="fixed bottom-6 right-6 lg:bottom-10 lg:right-10 bg-slate-900 text-white w-14 h-14 lg:w-16 lg:h-16 rounded-full shadow-2xl z-50 flex items-center justify-center hover:scale-110 transition-transform">
        <i class="fas fa-qrcode text-xl lg:text-2xl"></i>
    </button>

    <!-- Modal (Centered on all screens) -->
    <div id="modal" class="fixed inset-0 bg-black/80 z-[60] hidden flex items-center justify-center p-6 backdrop-blur-sm">
        <div class="bg-white w-full max-w-sm rounded-[2rem] p-10 relative">
            <button onclick="toggleModal()" class="absolute top-6 right-6 text-slate-400 hover:text-slate-900 transition-colors"><i class="fas fa-times text-2xl"></i></button>
            <div class="text-center">
                <div class="text-[10px] font-bold tracking-widest text-slate-400 mb-6 uppercase">Physical Data Link</div>
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=Ali_LCA_2018_Bangladesh" class="mx-auto border-8 border-slate-50 rounded-2xl mb-6 shadow-sm">
                <div class="text-[10px] font-mono text-slate-400">UID: BD-EU-2025-GENUINE-LCA</div>
            </div>
        </div>
    </div>

    <script>
        function toggle(id) {
            const element = document.getElementById(id);
            element.classList.toggle('hidden');
        }
        function toggleModal() {
            const modal = document.getElementById('modal');
            modal.classList.toggle('hidden');
        }
    </script>
</body>
</html>